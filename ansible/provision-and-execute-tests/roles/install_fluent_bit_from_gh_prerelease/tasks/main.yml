---
- name: Check mandatory variables (all distros)
  assert:
    that:
      - gh_prerelease_tag is defined
      - fb_package_name is defined
      - arch is defined
      - nr_fb_output_plugin_version is defined


- name: Install (replace) Fluent Bit Linux package
  include_tasks: "linux.yml"
  when: ansible_system == 'Linux'

- name: Install (replace) Fluent Bit Windows package
  include_tasks: "windows.yml"
  when: ansible_system != 'Linux'
